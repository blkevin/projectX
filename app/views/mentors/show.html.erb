<div class="banner-mentor w-100 d-flex justify-content-between mb-3" >
  <div class="ms-3 banner-mentor-description d-flex flex-column justify-content-center">
    <h3> <%= @mentor.first_name %> <%= @mentor.last_name %></h3>
    <p><%=@mentor.description%></p>
  </div>
  <div class="me-3 banner-mentor-picture">
    <% if @mentor.photo.attached? %>
      <%= cl_image_tag @mentor.photo.key, crop: :fill, class:"card-mentor-vertical-avatar" %>
    <% else %>
      <p>No picture attached</p>
    <% end%>
  </div>
</div>

<div class="container-mentor d-flex justify-content-between ms-5">
  <div class="left-side-description">
    <h4>CarriÃ¨re ðŸ’¼</h4>
    <%@experiences.each do |experience| %>
      <div class="experience-card mb-2">
        <div class="sub-title-experience d-flex justify-content-between">
          <h5><%= experience.position %></h5>
          <div class="dates-mentor-experience">
            <p><em>Depuis : </em><%= experience.start_date %></p>
            <% unless experience.end_date.nil?  %>
              <p><em>Jusqu'Ã  : </em><%= experience.end_date %></p>
            <% end %>
          </div>
        </div>
        <div class="details-experience">
          <p>Secteur : <%= experience.sector %></p>
          <p>Expertise : <%= experience.industry %></p>
          <p>Salaire (si renseignÃ©) : <%= experience.salary %></p>
        </div>
      </div>
    <%end%>

    <h4 class="mt-3">Etudes ðŸ“š</h4>
    <%@educations.each do |education| %>
      <div class="experience-card mb-2">
        <div class="sub-title-study d-flex justify-content-between">
          <h5><%= education.institution.name %></h5>
          <div class="dates-mentor-study">
            <p><em>Depuis : </em><%= education.start_date %></p>
            <% unless education.end_date.nil?  %>
              <p><em>Jusqu'Ã  : </em><%= education.end_date %></p>
            <% end %>
          </div>
        </div>
          <div class="details-education">
            <p> <%= education.degree_level %> </p>
            <p> <%= education.field %> </p>
          </div>
      </div>
    <%end%>
  </div>


  <div class="right-side-chat conversation mx-5 my-4" data-controller="conversation-subscription" data-conversation-subscription-conversation-id-value="<%= @conversation.id %>">
    <div class="messages" data-conversation-subscription-target="messages">
        <% @conversation.messages.each do |message| %>
          <%= render "messages/message", message: message %>
        <% end %>
    </div>

    <%= simple_form_for [@conversation, @message],
      html: { data: { action: "turbo:submit-end->conversation-subscription#resetForm" }, class: "d-flex"} do |f| %>
      <%= f.input :content,
        label: false,
        placeholder: "Message",
        wrapper_html: {class: "flex-grow-1"}
      %>
      <%= f.submit "Envoyer", class: "btn btn-primary mb-3" %>
    <% end %>
  </div>

</div>
